type Query {
    findPurchases: [Purchase] @topic(name: "purchase-topic")
}

type Purchase  {
    purchaseId: ID!,
    productId: ID!,
    userId: ID!,
    amount: Int,
    product: Product @topic(name: "product-topic", keyField: "productId")
}

type Product {
    productId: ID!,
    name: String,
    metadata: Metadata
}

type Metadata {
    createdAt: DateTime,
    source: String
}
